<!DOCTYPE html>
<html lang="en">
<head>
	<title>Vickey's Flower Shop</title>
	<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<meta name="HandheldFriendly" content="true">
	<link rel="stylesheet" type="text/css" href="index.css">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
	<link href='https://fonts.googleapis.com/css?family=Raleway' rel='stylesheet'>
</head>
<body>
<!--------Navigation bar/Manu------------->
<div class="navbar" id="myNav">
		<a class="pg1"><img src="img/logo.png" /></a>
		<a href="#home">HOME</a>
		<a href="#about us">ABOUT US</a>
		<a href="#about us">OCCASIONS</a>
		<a href="#about us">ORDER</a>
		<a href="#javascript:void(0);" class="icon" onclick="hamMenu()">
		<i class="fa fa-bars"></i>
		</a>

		<div class="navcart">
		<img id="cart" class="shopping-cart" src="img/cart.png" /><!--<span class='badge' id='products'> 0 </span>-->
		</div>
		<div class="navbar-right">
			<p>TOTAL AMOUNT:$
			<span class="total">0.00</span></p>
		</div>
	
</div>	
<!---------Product Container--------------------> 	
	<div class="container">
		<h1>Top Products</h1>
		<p class="p1">To add desired products to the cart, simply drag a product image to the cart icon found at the top right of the page.</p>
		
<!------------Images of products----------------->
<div id="products" class="products">
			
			<ul>
				<li>
					<span><img id="product-1" data-price="30.00" src="img/flower-1.png"/></span>

					<p>Sunflower Melody</p>
					<p>Price:$30.00</p>

				<select id="nums1" class="droplist">
						<option></option>
						<option>12</option>
						<option>1</option>
						<option>10</option>
						<option>11</option>
						<option>6</option>
						<option>4</option>
						<option>19</option>
						<option>14</option>
						<option>5</option>
						<option>3</option>
						<option>20</option>
						<option>2</option>
						<option>15</option>
						<option>7</option>
						<option>8</option>
						<option>13</option>
						<option>18</option>
						<option>9</option>
						<option>16</option>
						<option>17</option>
					</select>
				</li>

				<li>
					<span><img id="product-2" data-price="35.00" src="img/flower-2.png"/></span>
					<p>Spring Mix</p>
					<p>Price:$35.00</p>

				<select id="nums2">
						<option></option>
						<option>1</option>
						<option>12</option>
						<option>10</option>
						<option>11</option>
						<option>6</option>
						<option>4</option>
						<option>19</option>
						<option>14</option>
						<option>5</option>
						<option>3</option>
						<option>20</option>
						<option>2</option>
						<option>15</option>
						<option>7</option>
						<option>8</option>
						<option>13</option>
						<option>18</option>
						<option>9</option>
						<option>16</option>
						<option>17</option>
					</select>
				</li>
				<li>
					<span><img id="product-3" data-price="40.00" src="img/flower-3.png"/></span>
					<p>Colorful Arrangements</p>
					<p>Price:$40.00</p>

				<select id="nums3">
						<option></option>
						<option>12</option>
						<option>1</option>
						<option>10</option>
						<option>11</option>
						<option>6</option>
						<option>4</option>
						<option>19</option>
						<option>14</option>
						<option>5</option>
						<option>3</option>
						<option>20</option>
						<option>2</option>
						<option>15</option>
						<option>7</option>
						<option>8</option>
						<option>13</option>
						<option>18</option>
						<option>9</option>
						<option>16</option>
						<option>17</option>
					</select>
				</li>
				<li>
					<span><img id="product-4" data-price="50.00" src="img/flower-4.png"/></span>
					<p>Tulip Season</p>
					<p>Price:$50.00</p>
				<select id="nums4">
						<option></option>
						<option>12</option>
						<option>1</option>
						<option>10</option>
						<option>11</option>
						<option>6</option>
						<option>4</option>
						<option>19</option>
						<option>14</option>
						<option>5</option>
						<option>3</option>
						<option>20</option>
						<option>2</option>
						<option>15</option>
						<option>7</option>
						<option>8</option>
						<option>13</option>
						<option>18</option>
						<option>9</option>
						<option>16</option>
						<option>17</option>
					</select>
				</li>
				
			
			</ul>
		</div>
	</div>

<!----------`bottom COntainer-------->	
<div class="bottom">

	<div class="columns">
		<h3>GET TO KNOW US</h3>
		<a class="links" href="#about us">About Us</a>
		<br>
		<a class="links" href="#about us">Careers</a>
		<br>
		<a class="links" href="#about us">Media</a>
		<br>
		<a class="links" href="#about us">Security & Privacy</a>
	</div>

	<div class="columns">
		<h3>LEARN MORE ABOUT</h3>
		<a class="links" href="#about us">Blog</a>
		<br>
		<a class="links" href="#about us">Fins a Florist</a>
		<br>
		<a class="links" href="#about us">Floral Tips & Inspiration</a>
		<br>
		<a class="links" href="#about us">Sitemap</a>
	</div>

	<div class="columns">
		<h3>SHOP VICKY'S</h3>
		<a class="links" href="#about us">Same-Day Flower Delivery</a>
		<br>
		<a class="links" href="#about us">Birthday Flowers</a>
		<br>
		<a class="links" href="#about us">Funeral & Sympathy Flowers</a>
		<br>
		<a class="links" href="#about us">International Flower Delivery</a>
	</div>
		

</div>


<!-------------------Script------------------->

<script>

function hamMenu() {
  var x = document.getElementById("myNav");
  if (x.className === "navbar") {
    x.className += " responsive";
  } else {
    x.className = "navbar";
  }
  randomNumbers();
}

/*---------------------Cart & total amount------------------------------------------*/
function addEvent(element, event, delegate ) {
			if (typeof (window.event) != 'undefined' && element.attachEvent)
				element.attachEvent('on' + event, delegate);
			else 
				element.addEventListener(event, delegate, false);
		}
		
		addEvent(document, 'readystatechange', function() {
			if ( document.readyState !== "complete" ) 
				return true;
				
			var items = document.querySelectorAll("div.products ul li");
			var cart = document.querySelectorAll("#cart")[0];
			
			function updateCart(){
				var total = 0.0;
				var cart_items = document.querySelectorAll("#cart img") 
				for (var i = 0; i < cart_items.length; i++) {
					var cart_item = cart_items[i];
					var quantity = cart_item.getAttribute('data-quantity');
					var price = cart_item.getAttribute('data-price');
					
					var sub_total = parseFloat(quantity * parseFloat(price));
					/*cart_item.querySelectorAll("span.sub-total")[0].innerHTML = " = " + sub_total.toFixed(2);*/
					
					total += sub_total;
				}
				
				document.querySelectorAll("span.total")[0].innerHTML = total.toFixed(2);
				randomNumbers();
			}
			
			function addCartItem(item, id) {
				var clone = item.cloneNode(true);
				clone.setAttribute('data-id', id);
				if (id == 'product-1'){
					var ci = document.getElementById("nums1");
					var cir = ci.options[ci.selectedIndex].text;
					clone.setAttribute('data-quantity', cir);
				}
				else if (id == 'product-2'){
					var ci = document.getElementById("nums2");
					var cir = ci.options[ci.selectedIndex].text;
					clone.setAttribute('data-quantity', cir);
				}
				else if (id == 'product-3'){
					var ci = document.getElementById("nums3");
					var cir = ci.options[ci.selectedIndex].text;
					clone.setAttribute('data-quantity', cir);
				}
				else if (id == 'product-4'){
					var ci = document.getElementById("nums4");
					var cir = ci.options[ci.selectedIndex].text;
					clone.setAttribute('data-quantity', cir);
				}
				else {
					clone.setAttribute('data-quantity', 1);
				}
				clone.removeAttribute('id');
				
				var fragment = document.createElement('span');
				fragment.setAttribute('class', 'quantity');
				fragment.innerHTML = ' x 1';
				clone.appendChild(fragment);	
				
				fragment = document.createElement('span');
				fragment.setAttribute('class', 'sub-total');
				clone.appendChild(fragment);					
				cart.appendChild(clone);
			}
			
			function updateCartItem(item){
				var quantity = item.getAttribute('data-quantity');
				quantity = parseInt(quantity) + 1
				item.setAttribute('data-quantity', quantity);
				var span = item.querySelectorAll('span.quantity');
				span[0].innerHTML = ' x ' + quantity;
			}
			
			function onDrop(event){			
				if(event.preventDefault) event.preventDefault();
				if (event.stopPropagation) event.stopPropagation();
				else event.cancelBubble = true;
				
				var id = event.dataTransfer.getData("Text");
				var item = document.getElementById(id);			
							
				var exists = document.querySelectorAll("#cart ul li[data-id='" + id + "']");
				
				if(exists.length > 0){
					updateCartItem(exists[0]);
				} else {
					addCartItem(item, id);
				}
				
				updateCart();
				
				return false;
			}
			
			function onDragOver(event){
				if(event.preventDefault) event.preventDefault();
				if (event.stopPropagation) event.stopPropagation();
				else event.cancelBubble = true;
				return false;
			}

			addEvent(cart, 'drop', onDrop);
			addEvent(cart, 'dragover', onDragOver);
			
			function onDrag(event){
				event.dataTransfer.effectAllowed = "move";
				event.dataTransfer.dropEffect = "move";
				var target = event.target || event.srcElement;
				var success = event.dataTransfer.setData('Text', target.id);
			}
				
			
			for (var i = 0; i < items.length; i++) {
				var item = items[i];
				item.setAttribute("draggable", "true");
				addEvent(item, 'dragstart', onDrag);
			};
		});


		function randomNumbers(){
			var select = document.getElementById('nums1');
			var opt = ["1","2","3","4"];
			var random = Math.floor(Math.random() * opt.length);
			select[select.length] = new Option(opt[random]);
			}

</script>
</body>
</html>